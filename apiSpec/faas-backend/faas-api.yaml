{"openapi":"3.1.0","info":{"title":"FaaS Backend API","description":"Function as a Service Backend API for Softbank Hackathon","version":"1.0.0"},"paths":{"/api/workspaces":{"get":{"tags":["Workspaces"],"summary":"List Workspaces","description":"워크스페이스 목록 조회","operationId":"list_workspaces_api_workspaces_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Workspace"},"type":"array","title":"Response List Workspaces Api Workspaces Get"}}}}}},"post":{"tags":["Workspaces"],"summary":"Create Workspace","description":"워크스페이스 생성","operationId":"create_workspace_api_workspaces_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Workspace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/workspaces/{workspace_id}":{"get":{"tags":["Workspaces"],"summary":"Get Workspace","description":"워크스페이스 조회","operationId":"get_workspace_api_workspaces__workspace_id__get","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Workspace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Workspaces"],"summary":"Update Workspace","description":"워크스페이스 수정","operationId":"update_workspace_api_workspaces__workspace_id__patch","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Workspace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Workspaces"],"summary":"Delete Workspace","description":"워크스페이스 삭제","operationId":"delete_workspace_api_workspaces__workspace_id__delete","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/workspaces/{workspace_id}/functions":{"post":{"tags":["Functions"],"summary":"Create Function","description":"함수 생성","operationId":"create_function_api_workspaces__workspace_id__functions_post","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"type":"string","title":"Workspace Id"}}],"requestBody":{"required":true,"content":{"application/json":{"$ref":"#/components/schemas/FunctionCreate"}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/FunctionConfig"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Functions"],"summary":"List Functions","description":"함수 목록 조회","operationId":"list_functions_api_workspaces__workspace_id__functions_get","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Workspace"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FunctionConfig"},"title":"Response List Functions Api Workspaces  Workspace Id  Functions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/workspaces/{workspace_id}/functions/{function_id}":{"get":{"tags":["Functions"],"summary":"Get Function","description":"함수 상세 조회","operationId":"get_function_api_workspaces__workspace_id__functions__function_id__get","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Workspace"}},{"name":"function_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/FunctionConfig"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/FunctionConfig"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Functions"],"summary":"Update Function","description":"함수 수정","operationId":"update_function_api_workspaces__workspace_id__functions__function_id__patch","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Workspace"}},{"name":"function_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/FunctionConfig"}}],"requestBody":{"required":true,"content":{"application/json":{"$ref":"#/components/schemas/FunctionUpdate"}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/FunctionConfig"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Functions"],"summary":"Delete Function","description":"함수 삭제","operationId":"delete_function_api_workspaces__workspace_id__functions__function_id__delete","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Workspace"}},{"name":"function_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/FunctionConfig"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/workspaces/{workspace_id}/functions/{function_id}/invoke":{"post":{"tags":["Functions"],"summary":"Invoke Function","description":"함수 실행 (HTTP 호출)","operationId":"invoke_function_api_workspaces__workspace_id__functions__function_id__invoke_post","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Workspace"}},{"name":"function_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/FunctionConfig"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/Workspace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/workspaces/{workspace_id}/functions/{function_id}/logs":{"get":{"tags":["Logs"],"summary":"Get Function Logs","description":"함수 실행 로그 조회","operationId":"get_function_logs_api_workspaces__workspace_id__functions__function_id__logs_get","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Workspace"}},{"name":"function_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/FunctionConfig"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/LogsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/functions/{function_id}/loki-logs":{"get":{"tags":["Logs"],"summary":"Get Loki Logs","description":"Loki에서 function_id로 실시간 로그 조회","operationId":"get_loki_logs_api_functions__function_id__loki_logs_get","parameters":[{"name":"function_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/FunctionConfig"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/LokiLogsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/build":{"post":{"tags":["Builds"],"summary":"Build","description":"파일 업로드 및 빌드 시작\n\n- **file**: .py 파일 또는 .zip 아카이브 (필수)\n- **app_name**: 애플리케이션 이름 (선택, 미지정시 자동 생성)\n- **workspace_id**: 워크스페이스 ID (기본값: ws-default)","operationId":"build_api_v1_build_post","requestBody":{"content":{"multipart/form-data":{"$ref":"#/components/schemas/Body_build_api_v1_build_post"}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/BuildResponse"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tasks/{task_id}":{"get":{"tags":["Builds"],"summary":"Get Task Status","description":"작업 상태 조회\n\n- **task_id**: 작업 ID","operationId":"get_task_status_api_v1_tasks__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/TaskStatusResponse"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/TaskStatusResponse"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workspaces/{workspace_id}/tasks":{"get":{"tags":["Builds"],"summary":"List Workspace Tasks","description":"워크스페이스의 모든 빌드 작업 조회\n\n- **workspace_id**: 워크스페이스 ID","operationId":"list_workspace_tasks_api_v1_workspaces__workspace_id__tasks_get","parameters":[{"name":"workspace_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Workspace"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/WorkspaceTasksResponse"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/push":{"post":{"tags":["Builds"],"summary":"Push To Ecr","description":"ECR에 이미지 푸시\n\n- **registry_url**: ECR 레지스트리 URL\n- **username**: 레지스트리 사용자명 (기본값: AWS)\n- **password**: 레지스트리 비밀번호 (IRSA 사용 시 더미 값 자동 사용)\n- **tag**: 이미지 태그\n- **app_dir**: 애플리케이션 디렉토리 경로","operationId":"push_to_ecr_api_v1_push_post","requestBody":{"content":{"application/json":{"$ref":"#/components/schemas/PushRequest"}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/BuildResponse"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/scaffold":{"post":{"tags":["Builds"],"summary":"Scaffold Spinapp","description":"SpinApp 매니페스트 생성\n\n- **image_ref**: 이미지 참조 (ECR URL:tag)\n- **component**: 컴포넌트 이름 (선택)\n- **replicas**: 레플리카 수 (기본값: 1)\n- **output_path**: 출력 파일 경로 (선택)","operationId":"scaffold_spinapp_api_v1_scaffold_post","requestBody":{"content":{"application/json":{"$ref":"#/components/schemas/ScaffoldRequest"}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/ScaffoldResponse"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/deploy":{"post":{"tags":["Builds"],"summary":"Deploy To K8S","description":"K8s에 SpinApp 배포\n\n- **namespace**: Kubernetes 네임스페이스 (필수)\n- **image_ref**: 이미지 참조 (필수)\n- **app_name**: 애플리케이션 이름 (선택, 기본값: Faker 자동 생성)\n- **replicas**: 레플리카 수 (기본값: 1)\n- **enable_autoscaling**: HPA/KEDA 활성화 (기본값: true)\n- **use_spot**: Spot 인스턴스 사용 (기본값: true)","operationId":"deploy_to_k8s_api_v1_deploy_post","requestBody":{"content":{"application/json":{"$ref":"#/components/schemas/DeployRequest"}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/DeployResponse"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/build-and-push":{"post":{"tags":["Builds"],"summary":"Build And Push","description":"빌드 및 푸시 통합\n\n- **file**: .py 파일 또는 .zip 아카이브 (필수)\n- **registry_url**: ECR 레지스트리 URL (필수)\n- **username**: 레지스트리 사용자명 (기본값: AWS)\n- **password**: 레지스트리 비밀번호 (선택, Builder Service IRSA 사용 시 불필요)\n- **tag**: 이미지 태그 (기본값: sha256)\n- **app_name**: 애플리케이션 이름 (선택)","operationId":"build_and_push_api_v1_build_and_push_post","requestBody":{"content":{"multipart/form-data":{"$ref":"#/components/schemas/Body_build_and_push_api_v1_build_and_push_post"}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/BuildResponse"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/functions/{function_id}/metrics":{"get":{"tags":["Metrics"],"summary":"Get Function Metrics","description":"Prometheus에서 function_id로 Pod 메트릭 조회","operationId":"get_function_metrics_api_functions__function_id__metrics_get","parameters":[{"name":"function_id","in":"path","required":true,"schema":{"$ref":"#/components/schemas/FunctionConfig"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/PrometheusMetricsResponse"}}},"422":{"description":"Validation Error","content":{"application/json":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"헬스 체크","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"$ref":"#/components/schemas/Workspace"}}}}}}},"/health":{"get":{"summary":"Health","description":"헬스 체크 엔드포인트","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"$ref":"#/components/schemas/Workspace"}}}}}}},"components":{"schemas":{"Body_build_and_push_api_v1_build_and_push_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"registry_url":{"type":"string","title":"Registry Url"},"username":{"type":"string","title":"Username","default":"AWS"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","default":"dummy-password"},"tag":{"type":"string","title":"Tag","default":"sha256"},"app_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"App Name"},"workspace_id":{"type":"string","title":"Workspace Id","default":"ws-default"}},"type":"object","required":["file","registry_url"],"title":"Body_build_and_push_api_v1_build_and_push_post"},"Body_build_api_v1_build_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":".py 파일 또는 .zip 아카이브"},"app_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"App Name","description":"애플리케이션 이름"},"workspace_id":{"type":"string","title":"Workspace Id","description":"워크스페이스 ID","default":"ws-default"}},"type":"object","required":["file"],"title":"Body_build_api_v1_build_post"},"BuildResponse":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"작업 ID"},"status":{"type":"string","title":"Status","description":"작업 상태: pending|running|completed|failed"},"message":{"type":"string","title":"Message","description":"상태 메시지"},"source_s3_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source S3 Path","description":"S3 소스 파일 경로"}},"type":"object","required":["task_id","status","message"],"title":"BuildResponse","description":"빌드 응답"},"BuildTaskResult":{"properties":{"wasm_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Wasm Path","description":"WASM 파일 경로"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url","description":"ECR 이미지 URL"},"image_uri":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Uri","description":"ECR 이미지 URI (호환 필드)"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path","description":"업로드된 파일 경로"}},"type":"object","title":"BuildTaskResult","description":"빌드 작업 결과"},"DeployRequest":{"properties":{"app_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"App Name","description":"애플리케이션 이름"},"namespace":{"type":"string","title":"Namespace","description":"Kubernetes 네임스페이스"},"service_account":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service Account","description":"ServiceAccount 이름"},"cpu_limit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cpu Limit","description":"CPU 제한 (예: 500m)"},"memory_limit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Memory Limit","description":"메모리 제한 (예: 128Mi)"},"cpu_request":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cpu Request","description":"CPU 요청 (예: 100m)"},"memory_request":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Memory Request","description":"메모리 요청 (예: 64Mi)"},"image_ref":{"type":"string","title":"Image Ref","description":"이미지 참조 (ECR URL:tag)"},"enable_autoscaling":{"type":"boolean","title":"Enable Autoscaling","description":"HPA/KEDA 오토스케일링 활성화","default":true},"replicas":{"type":"integer","minimum":1.0,"title":"Replicas","description":"레플리카 수","default":1},"use_spot":{"type":"boolean","title":"Use Spot","description":"Spot 인스턴스 사용 스케줄링","default":true},"custom_tolerations":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Custom Tolerations","description":"사용자 정의 tolerations"},"custom_affinity":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Custom Affinity","description":"사용자 정의 affinity"},"function_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Function Id","description":"Function ID (로그 구분용)"}},"type":"object","required":["namespace","image_ref"],"title":"DeployRequest","description":"K8s 배포 요청"},"DeployResponse":{"properties":{"app_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"App Name","description":"배포된 SpinApp 이름"},"namespace":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Namespace","description":"배포된 네임스페이스"},"service_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service Name","description":"SpinApp이 자동 생성한 Service 이름"},"service_status":{"type":"string","title":"Service Status","description":"Service 상태: found|pending|not_found"},"endpoint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint","description":"Service 엔드포인트"},"enable_autoscaling":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enable Autoscaling","description":"오토스케일링 활성화 여부"},"use_spot":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Spot","description":"Spot 인스턴스 사용 여부"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"에러 메시지"}},"type":"object","required":["service_status"],"title":"DeployResponse","description":"K8s 배포 응답"},"ExecutionLog":{"properties":{"id":{"type":"string","title":"Id"},"functionId":{"type":"string","title":"Functionid"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"status":{"type":"string","title":"Status"},"duration":{"type":"number","title":"Duration"},"statusCode":{"type":"integer","title":"Statuscode"},"requestBody":{"anyOf":[{},{"type":"null"}],"title":"Requestbody"},"responseBody":{"anyOf":[{},{"type":"null"}],"title":"Responsebody"},"logs":{"items":{"type":"string"},"type":"array","title":"Logs"},"level":{"type":"string","title":"Level","default":"info"}},"type":"object","required":["id","functionId","timestamp","status","duration","statusCode"],"title":"ExecutionLog","description":"실행 로그"},"FunctionConfig":{"properties":{"id":{"type":"string","title":"Id"},"workspaceId":{"type":"string","title":"Workspaceid"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"runtime":{"type":"string","title":"Runtime"},"memory":{"type":"integer","title":"Memory"},"timeout":{"type":"integer","title":"Timeout"},"httpMethods":{"items":{"type":"string"},"type":"array","title":"Httpmethods"},"environmentVariables":{"additionalProperties":{"type":"string"},"type":"object","title":"Environmentvariables"},"code":{"type":"string","title":"Code"},"invocationUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invocationurl"},"status":{"type":"string","title":"Status","default":"active"},"lastModified":{"type":"string","format":"date-time","title":"Lastmodified"},"lastDeployed":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Lastdeployed"},"invocations24h":{"type":"integer","title":"Invocations24H","default":0},"errors24h":{"type":"integer","title":"Errors24H","default":0},"avgDuration":{"type":"number","title":"Avgduration","default":0.0}},"type":"object","required":["id","workspaceId","name","runtime","memory","timeout","httpMethods","environmentVariables","code","lastModified"],"title":"FunctionConfig","description":"함수 설정 응답"},"FunctionCreate":{"properties":{"name":{"type":"string","minLength":1,"title":"Name","description":"함수 이름"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"함수 설명"},"runtime":{"type":"string","title":"Runtime","description":"런타임","default":"Python 3.12"},"memory":{"type":"integer","maximum":1024.0,"minimum":128.0,"title":"Memory","description":"메모리 (MB)","default":256},"timeout":{"type":"integer","maximum":900.0,"minimum":1.0,"title":"Timeout","description":"타임아웃 (초)","default":30},"httpMethods":{"items":{"type":"string"},"type":"array","title":"Httpmethods","description":"허용 HTTP 메서드","default":["GET"]},"environmentVariables":{"additionalProperties":{"type":"string"},"type":"object","title":"Environmentvariables","description":"환경 변수"},"code":{"type":"string","title":"Code","description":"Base64 인코딩된 Python 코드"}},"type":"object","required":["name","code"],"title":"FunctionCreate","description":"함수 생성 요청"},"FunctionUpdate":{"properties":{"name":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"runtime":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Runtime"},"memory":{"anyOf":[{"type":"integer","maximum":1024.0,"minimum":128.0},{"type":"null"}],"title":"Memory"},"timeout":{"anyOf":[{"type":"integer","maximum":900.0,"minimum":1.0},{"type":"null"}],"title":"Timeout"},"httpMethods":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Httpmethods"},"environmentVariables":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Environmentvariables"},"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"invocationUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invocationurl"},"lastDeployed":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Lastdeployed"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},"type":"object","title":"FunctionUpdate","description":"함수 수정 요청"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LogsResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/ExecutionLog"},"type":"array","title":"Logs"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["logs","total"],"title":"LogsResponse","description":"로그 조회 응답"},"LokiLogEntry":{"properties":{"timestamp":{"type":"string","title":"Timestamp","description":"로그 타임스탬프 (나노초)"},"line":{"type":"string","title":"Line","description":"로그 메시지"}},"type":"object","required":["timestamp","line"],"title":"LokiLogEntry","description":"Loki 로그 엔트리"},"LokiLogsResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/LokiLogEntry"},"type":"array","title":"Logs","description":"로그 목록"},"total":{"type":"integer","title":"Total","description":"전체 로그 수"},"function_id":{"type":"string","title":"Function Id","description":"함수 ID"}},"type":"object","required":["total","function_id"],"title":"LokiLogsResponse","description":"Loki 로그 조회 응답"},"PrometheusMetricsData":{"properties":{"cpu_total":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cpu Total","description":"1분 rate 기준으로 합산된 CPU 사용량 (cores)"},"cpu_series":{"items":{"$ref":"#/components/schemas/PrometheusTimeseriesPoint"},"type":"array","title":"Cpu Series","description":"조회 윈도우 동안의 CPU 사용률 시계열"},"window_seconds":{"type":"integer","title":"Window Seconds","description":"조회 기간(초). 기본 1시간.","default":3600},"instant_query":{"type":"string","title":"Instant Query","description":"사용된 인스턴트 PromQL 쿼리"},"range_query":{"type":"string","title":"Range Query","description":"사용된 구간 PromQL 쿼리"},"raw_instant":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Raw Instant","description":"원본 인스턴트 쿼리 응답 데이터"},"raw_range":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Raw Range","description":"원본 구간 쿼리 응답 데이터"}},"type":"object","required":["instant_query","range_query"],"title":"PrometheusMetricsData","description":"Prometheus 메트릭 데이터"},"PrometheusMetricsResponse":{"properties":{"status":{"type":"string","title":"Status","description":"응답 상태"},"data":{"$ref":"#/components/schemas/PrometheusMetricsData","description":"메트릭 데이터"},"function_id":{"type":"string","title":"Function Id","description":"함수 ID"}},"type":"object","required":["status","data","function_id"],"title":"PrometheusMetricsResponse","description":"Prometheus 메트릭 조회 응답"},"PrometheusTimeseriesPoint":{"properties":{"timestamp":{"type":"number","title":"Timestamp","description":"UNIX 타임스탬프 (초)"},"value":{"type":"number","title":"Value","description":"메트릭 값"}},"type":"object","required":["timestamp","value"],"title":"PrometheusTimeseriesPoint","description":"Prometheus 타임시리즈 포인트"},"PushRequest":{"properties":{"registry_url":{"type":"string","title":"Registry Url","description":"ECR 레지스트리 URL"},"username":{"type":"string","title":"Username","description":"레지스트리 사용자명 (IRSA 사용 시 기본값 AWS)","default":"AWS"},"password":{"type":"string","title":"Password","description":"레지스트리 비밀번호 (IRSA 사용 시 더미 값 자동 사용)","default":"dummy-password"},"tag":{"type":"string","title":"Tag","description":"이미지 태그","default":"sha256"},"app_dir":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"App Dir","description":"애플리케이션 디렉토리 경로"},"workspace_id":{"type":"string","title":"Workspace Id","description":"워크스페이스 ID"},"s3_source_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"S3 Source Path","description":"S3 소스 파일 경로"}},"type":"object","required":["registry_url","workspace_id"],"title":"PushRequest","description":"ECR 푸시 요청"},"ScaffoldRequest":{"properties":{"image_ref":{"type":"string","title":"Image Ref","description":"이미지 참조 (ECR URL:tag)"},"component":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Component","description":"컴포넌트 이름"},"replicas":{"type":"integer","minimum":1.0,"title":"Replicas","description":"레플리카 수","default":1},"output_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output Path","description":"출력 파일 경로"}},"type":"object","required":["image_ref"],"title":"ScaffoldRequest","description":"SpinApp 매니페스트 생성 요청"},"ScaffoldResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"성공 여부"},"yaml_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Yaml Content","description":"생성된 YAML 내용"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path","description":"저장된 파일 경로"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"에러 메시지"}},"type":"object","required":["success"],"title":"ScaffoldResponse","description":"SpinApp 매니페스트 생성 응답"},"TaskStatusResponse":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"작업 ID"},"status":{"type":"string","title":"Status","description":"작업 상태: pending|running|completed|failed"},"result":{"anyOf":[{"$ref":"#/components/schemas/BuildTaskResult"},{"type":"null"}],"description":"작업 결과"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"에러 메시지"}},"type":"object","required":["task_id","status"],"title":"TaskStatusResponse","description":"작업 상태 조회 응답"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"Workspace":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"createdAt":{"type":"string","format":"date-time","title":"Createdat"},"functionCount":{"type":"integer","title":"Functioncount","default":0},"invocations24h":{"type":"integer","title":"Invocations24H","default":0},"errorRate":{"type":"number","title":"Errorrate","default":0.0}},"type":"object","required":["id","name","createdAt"],"title":"Workspace","description":"워크스페이스 응답"},"WorkspaceCreate":{"properties":{"name":{"type":"string","minLength":1,"title":"Name","description":"워크스페이스 이름"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"워크스페이스 설명"}},"type":"object","required":["name"],"title":"WorkspaceCreate","description":"워크스페이스 생성 요청"},"WorkspaceTaskItem":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"작업 ID"},"status":{"type":"string","title":"Status","description":"작업 상태"},"app_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"App Name","description":"애플리케이션 이름"},"created_at":{"type":"string","title":"Created At","description":"생성 시간"},"updated_at":{"type":"string","title":"Updated At","description":"수정 시간"},"result":{"anyOf":[{"$ref":"#/components/schemas/BuildTaskResult"},{"type":"null"}],"description":"작업 결과"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"에러 메시지"}},"type":"object","required":["task_id","status","created_at","updated_at"],"title":"WorkspaceTaskItem","description":"워크스페이스 작업 목록 항목"},"WorkspaceTasksResponse":{"properties":{"workspace_id":{"type":"string","title":"Workspace Id","description":"워크스페이스 ID"},"tasks":{"items":{"$ref":"#/components/schemas/WorkspaceTaskItem"},"type":"array","title":"Tasks","description":"작업 목록"},"count":{"type":"integer","title":"Count","description":"작업 개수"}},"type":"object","required":["workspace_id","tasks","count"],"title":"WorkspaceTasksResponse","description":"워크스페이스 작업 목록 응답"},"WorkspaceUpdate":{"properties":{"name":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Name","description":"워크스페이스 이름"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"워크스페이스 설명"}},"type":"object","title":"WorkspaceUpdate","description":"워크스페이스 수정 요청"}}}}